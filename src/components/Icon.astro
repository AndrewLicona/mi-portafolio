---
// src/components/Icon.astro
import type { HTMLAttributes } from 'astro/types';

// Definir la interfaz para las propiedades de cada ícono
interface IconProps {
  path: string;
  fill?: string;
  stroke?: string;
  strokeWidth?: string | number;
}

// Definir un tipo para las claves del objeto icons
type IconName = 
  | 'arrow-right' 
  | 'astro' 
  | 'close' 
  | 'cv' 
  | 'email' 
  | 'external-link' 
  | 'github' 
  | 'hamburger' 
  | 'html5' 
  | 'css3' 
  | 'javascript' 
  | 'linkedin' 
  | 'moon' 
  | 'palette' 
  | 'python' 
  | 'sun' 
  | 'tailwind' 
  | 'typescript';

export interface Props extends HTMLAttributes<'svg'> {
  name: IconName;
  size?: number;
}

const { name, size = 24, class: className, ...attrs } = Astro.props;


const icons: Record<IconName, IconProps> = {
  'arrow-right': {
    path: '<path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />',
    stroke: 'currentColor',
    strokeWidth: 2,
  },
  'astro': {
    path: '<path d="M12.032 2.734c-1.165 0-2.214.63-2.738 1.63l-.01.018-4.41 7.638c-.525 1.002-.432 2.28.233 3.186l.01.01c.664.905 1.81 1.408 2.936 1.408h8.82c1.125 0 2.272-.503 2.936-1.408l.01-.01c.665-.905.758-2.184.234-3.186l-4.41-7.638-.01-.018c-.524-1-1.573-1.63-2.738-1.63zm-7.95 9.268-1.54-2.666c-.525-1.002-.432-2.28.234-3.186l.01-.01c.664-.905 1.81-1.408 2.936-1.408h2.938l3.35 5.8-3.35 5.8h-2.938c-1.125 0-2.272-.503-2.936-1.408l-.01-.01c-.033-.045-.065-.09-.094-.138v.008zm10.092 3.314c.664-.905.758-2.184.234-3.186l-1.54-2.666v5.334c-.033.045-.065.09-.094.138v-.008l1.4.008z"/>',
    fill: 'currentColor',
  },
  'close': {
    path: '<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />',
    stroke: 'currentColor',
    strokeWidth: 2,
  },
  'cv': {
    path: '<path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />',
  },
  'email': {
    path: '<path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />',
    stroke: 'currentColor',
    strokeWidth: 2,
  },
  'external-link': {
    path: '<path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />',
    stroke: 'currentColor',
    strokeWidth: 2,
  },
  'github': {
    path: '<path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" />',
    fill: 'currentColor',
  },
  'hamburger': {
    path: '<path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />',
    stroke: 'currentColor',
    strokeWidth: 2,
  },
  'html5': {
    path: '<path d="M1.5 0h21l-1.91 21.563L11.977 24l-8.564-2.438L1.5 0zm7.031 9.75l-.232-2.718 10.059.003.23-2.563-13.28-.002.69 7.857h11.488l-.33 4.072-3.465 1.01-3.466-1.01-.232-2.718h-2.56l.465 5.438 5.781 1.65 5.782-1.65.92-10.406H8.531z" />',
    fill: 'currentColor',
  },
  'css3': {
    path: '<path d="m1.5 0h21l-1.91 21.563L11.977 24l-8.565-2.438L1.5 0zm17.09 4.922l-13.28-.002.23 2.563h10.498l-.232 2.718H5.428l.23 2.563h7.54l-.33 4.072-2.465.71-2.466-.71-.164-1.84h-2.56l.33 4.072L12 19.281l5.373-1.53L18.59 4.922z" />',
    fill: 'currentColor',
  },
  'javascript': {
    path: '<path d="M0 0h24v24H0V0zm22.05 18.3c.45 0 .8-.35.8-.85V6.55c0-.45-.35-.8-.8-.8H1.95c-.45 0-.85.35-.85.8v10.9c0 .45.4.85.85.85h20.1zM9.4 15.95H7.6v-6.3h1.8v6.3zm4.25 0h-1.8V9.65h1.8v6.3zm4.25 0h-1.8V9.65h1.8v6.3z" />',
    fill: 'currentColor',
  },
  'linkedin': {
    path: '<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6zM2 9h4v12H2z" /><circle cx="4" cy="4" r="2" />',
    fill: 'currentColor',
  },
  'moon': {
    path: '<path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />',
    fill: 'none',
    stroke: 'currentColor',
    strokeWidth: 2,
  },
  'palette': {
    path: '<path stroke-linecap="round" stroke-linejoin="round" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01" />',
    fill: 'none',
    stroke: 'currentColor',
    strokeWidth: 2,
  },
  'python': {
    path: '<path d="M12.53,2.2v5.34h2.24v2.23H12.53v4.46h2.24v2.23H12.53v5.34H9.47V2.2H12.53z M11.47,0H9.47C8.4,0,7.53,0.87,7.53,1.94v20.12c0,1.07,0.87,1.94,1.94,1.94h2c1.07,0,1.94-0.87,1.94-1.94V16.7h2.24c1.07,0,1.94-0.87,1.94-1.94V12.53c0-1.07-0.87-1.94-1.94-1.94h-2.24V7.76h2.24c1.07,0,1.94-0.87,1.94-1.94V3.59c0-1.07-0.87-1.94-1.94-1.94h-2.24V0H11.47z" />',
    fill: 'currentColor',
  },
  'sun': {
    path: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />',
    fill: 'none',
    stroke: 'currentColor',
    strokeWidth: 2,
  },
  'tailwind': {
    path: '<path d="M12 12.582A4.065 4.065 0 0 0 15.13 9.9a4.065 4.065 0 0 0-6.26 0 4.065 4.065 0 0 0 3.13 2.682zm-6.13-2.682a4.065 4.065 0 0 0 6.26 0 4.065 4.065 0 0 0-6.26 0zM12 21.935a4.065 4.065 0 0 0 3.13-6.732 4.065 4.065 0 0 0-6.26 0A4.065 4.065 0 0 0 12 21.935zm-6.13-6.732a4.065 4.065 0 0 0 6.26 0 4.065 4.065 0 0 0-6.26 0z"/>',
    fill: 'currentColor',
  },
  'typescript': {
    path: '<path d="M0 0h24v24H0V0zm22.05 18.3c.45 0 .8-.35.8-.85V6.55c0-.45-.35-.8-.8-.8H1.95c-.45 0-.85.35-.85.8v10.9c0 .45.4.85.85.85h20.1zM11.65 9.65v1.8h2.1v1.2h-2.1v1.8h2.1v1.2h-2.6c-.45 0-.8-.35-.8-.8v-4.7c0-.45.35-.8.8-.8h2.6v1.2h-2.1zm6.8 5.1h-1.2l-1.8-2.4v2.4h-1.2V9.65h1.2l1.8 2.4V9.65h1.2v6.3z" />',
    fill: 'currentColor',
  },
};

const icon = icons[name];

// Verificar si el ícono existe
if (!icon) {
  console.error(`Icono "${name}" no encontrado`);
  return null;
}

// Usar valores por defecto para íconos que no los tengan definidos
const fill = 'fill' in icon ? icon.fill : 'none';
const stroke = 'stroke' in icon ? icon.stroke : 'currentColor';
const strokeWidth = 'strokeWidth' in icon ? icon.strokeWidth : 2;
---

{icon && (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width={size}
    height={size}
    viewBox="0 0 24 24"
    fill={fill}
    stroke={stroke}
    stroke-width={strokeWidth}
    class={className}
    set:html={icon.path}
    {...attrs}
  />
)}